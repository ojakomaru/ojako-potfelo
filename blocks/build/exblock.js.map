{"version":3,"file":"exblock.js","mappings":"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","sources":["webpack://blocks/external window [\"wp\",\"element\"]","webpack://blocks/webpack/bootstrap","webpack://blocks/webpack/runtime/compat get default export","webpack://blocks/webpack/runtime/define property getters","webpack://blocks/webpack/runtime/hasOwnProperty shorthand","webpack://blocks/webpack/runtime/make namespace object","webpack://blocks/./src/exblock.js"],"sourcesContent":["module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const { assign } = lodash;\nconst { __ } = wp.i18n;\nconst { Fragment } = wp.element;\nconst { addFilter } = wp.hooks;\nconst { PanelBody, RadioControl } = wp.components;\n\nconst { InspectorControls } = window.wp.editor;\n\nconst { createHigherOrderComponent } = wp.compose;\n\nconst isValidBlockType = (name) => {\n  const validBlockTypes = [\n    \"core/paragraph\", // 段落\n    \"core/list\", // リスト\n    \"core/image\", // イメージ\n  ];\n  return validBlockTypes.includes(name);\n};\n\nexport const addBlockControl = createHigherOrderComponent((BlockEdit) => {\n  return (props) => {\n    // isValidBlockType で指定したブロックが選択されたら表示\n    if (isValidBlockType(props.name) && props.isSelected) {\n      // すでにオプション選択されていたら\n      let selectOption = props.attributes.marginSetting || \"\";\n\n      return (\n        <Fragment>\n          <BlockEdit {...props} />\n          <InspectorControls>\n            <PanelBody\n              title=\"マージン設定\"\n              initialOpen={false}\n              className=\"margin-controle\"\n            >\n              <RadioControl\n                selected={selectOption}\n                options={[\n                  { label: \"なし\", value: \"\" },\n                  { label: \"小\", value: \"mb-sm\" },\n                  { label: \"中\", value: \"mb-md\" },\n                  { label: \"大\", value: \"mb-lg\" },\n                ]}\n                onChange={(changeOption) => {\n                  let newClassName = changeOption;\n                  // 高度な設定で入力している場合は追加する\n                  if (props.attributes.className) {\n                    // 付与されているclassを取り出す\n                    let inputClassName = props.attributes.className;\n                    // スペース区切りを配列に\n                    inputClassName = inputClassName.split(\" \");\n                    // 選択されていたオプションの値を削除\n                    let filterClassName = inputClassName.filter(function (\n                      name\n                    ) {\n                      return name !== selectOption;\n                    });\n                    // 新しく選択したオプションを追加\n                    filterClassName.push(changeOption);\n                    // 配列を文字列に\n                    newClassName = filterClassName.join(\" \");\n                  }\n\n                  selectOption = changeOption;\n                  props.setAttributes({\n                    className: newClassName,\n                    marginSetting: changeOption,\n                  });\n                }}\n              />\n            </PanelBody>\n          </InspectorControls>\n        </Fragment>\n      );\n    }\n    return <BlockEdit {...props} />;\n  };\n}, \"addMyCustomBlockControls\");\naddFilter(\"editor.BlockEdit\", \"myblock/block-control\", addBlockControl);\n\nexport function addAttribute(settings) {\n  if (isValidBlockType(settings.name)) {\n    settings.attributes = assign(settings.attributes, {\n      marginSetting: {\n        type: \"string\",\n      },\n    });\n  }\n  return settings;\n}\naddFilter(\"blocks.registerBlockType\", \"myblock/add-attr\", addAttribute);\n\nexport function addSaveProps(extraProps, blockType, attributes) {\n  if (isValidBlockType(blockType.name)) {\n    // なしを選択した場合はmarginSetting削除\n    if (attributes.marginSetting === \"\") {\n      delete attributes.marginSetting;\n    }\n  }\n  return extraProps;\n}\naddFilter(\n  \"blocks.getSaveContent.extraProps\",\n  \"myblock/add-props\",\n  addSaveProps\n);\n"],"names":["assign","lodash","__","wp","i18n","Fragment","element","addFilter","hooks","PanelBody","RadioControl","components","InspectorControls","window","editor","createHigherOrderComponent","compose","isValidBlockType","name","validBlockTypes","includes","addBlockControl","BlockEdit","props","isSelected","selectOption","attributes","marginSetting","label","value","changeOption","newClassName","className","inputClassName","split","filterClassName","filter","push","join","setAttributes","addAttribute","settings","type","addSaveProps","extraProps","blockType"],"sourceRoot":""}