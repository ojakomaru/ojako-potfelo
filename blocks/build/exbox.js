(()=>{"use strict";const e=window.wp.element,l=window.wp.blocks,a=window.wp.blockEditor,t=window.wp.components,o=[{label:"シンプル",value:"simple-bd"},{label:"内側線",value:"inline-bd"},{label:"角丸 (線の変更は不可)",value:"radius-bd"},{label:"チェック柄",value:"check-bd"},{label:"水玉模様",value:"polka-dot"},{label:"左縦線 (細線選択不可)",value:"left-angle"},{label:"大カッコ",value:"brackets"},{label:"カギカッコ",value:"angle-brackets"},{label:"黒板風 (色、線変更不可)",value:"blackboard"}],n=[{label:"シンプル",value:"sinple-head"},{label:"ノーマル",value:"nomal-head"},{label:"上側",value:"top-head"},{label:"外側",value:"outer-head"},{label:"内側",value:"inner-head"},{label:"角丸",value:"radius-head"},{label:"吹き出し",value:"speech-head"}],r=l=>{let{attributes:{boxColor:r,borderSetting:b,isHeadLine:s},setAttributes:c}=l;return(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:"ボックス枠線設定",initialOpen:!0},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(t.ToggleControl,{label:s?"タイトルを表示する":"タイトルは表示しない",help:"",checked:s,onChange:e=>{c({isHeadLine:e}),c({borderSetting:"nomal-head"})}})),(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(t.SelectControl,{label:s?"タイトル付きスタイル":"シンプルスタイル",value:b,options:s?n:o,onChange:e=>c({borderSetting:e})}))),(0,e.createElement)(t.PanelBody,{title:"ボックスカラー設定",initialOpen:!1},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(t.RadioControl,{className:" exbox-color-setting",selected:r,options:[{label:"ブルー",value:"blue"},{label:"レッド",value:"red"},{label:"グリーン",value:"green"},{label:"イエロー",value:"yellow"},{label:"ピンク",value:"pink"},{label:"グレー",value:"gray"},{label:"ブラック",value:"black"}],onChange:e=>c({boxColor:e})}))))},b=["core/image","core/paragraph","core/list","core/heading","core/table","oja/post-list","oja/oja-related-post-block","ojako/custom-dlblock"];(0,l.registerBlockType)("oja/exbox-block",{title:"EXボックス",description:"用途に合わせてデザインを変更して下さい",category:"text",keywords:["box","ex","oja"],icon:"block-default",styles:[{name:"solid",label:"シンプル",isDefault:!0},{name:"bold",label:"太線"},{name:"dashed",label:"点線"},{name:"double",label:"二重線"}],supports:{html:!1,customClassName:!1},example:{attributes:{boxTitle:"好きなテキストや画像が入ります"}},transforms:{from:[{type:"block",blocks:["core/paragraph",,"core/heading"],transform:e=>{let{content:a}=e;return(0,l.createBlock)("oja/exbox-block",{boxTitle:a})}}],to:[{type:"block",blocks:["core/paragraph"],isMatch:e=>{let{boxTitle:l}=e;return!!l},transform:e=>{let{boxTitle:a}=e;return(0,l.createBlock)("core/paragraph",{content:a})}}]},attributes:{boxTitle:{type:"string",default:"",source:"html",selector:"h3"},boxColor:{type:"string",default:"blue"},borderSetting:{type:"string",default:"nomal-head"},isHeadLine:{type:"boolean",default:!0}},edit:function(l){let{className:t,attributes:o,setAttributes:n}=l;const{boxTitle:s,isHeadLine:c,boxColor:i,borderSetting:u}=o;return t+=` ${i} ${u}`,[(0,e.createElement)(r,{attributes:o,setAttributes:n}),(0,e.createElement)("div",{className:t},c&&(0,e.createElement)(a.RichText,{className:"ex-head",value:s,onChange:e=>n({boxTitle:e}),tagName:"h3",placeholder:"タイトルを入力",keepPlaceholderOnFocus:!0}),(0,e.createElement)(a.InnerBlocks,{allowedBlocks:b}))]},save:l=>{let{className:t,attributes:{boxTitle:o,isHeadLine:n,boxColor:r,borderSetting:b}}=l;return t+=` ${r} ${b}`,(0,e.createElement)("div",{className:t},n&&(0,e.createElement)(a.RichText.Content,{className:"ex-head",value:o,tagName:"h3"}),(0,e.createElement)(a.InnerBlocks.Content,null))}})})();